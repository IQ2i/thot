{% extends 'base.html.twig' %}

{% block body_attributes %}{{ turbo_stream_listen('conversation#' ~ conversation.id) }}{% endblock %}

{% block header_title %}
    {% if conversation.name is not null %}
        {{ conversation.name }}
    {% else %}
        {{ 'conversation.new_conversation'|trans }}
    {% endif %}
{% endblock %}

{% block header_actions %}
    <el-dropdown class="inline-block">
        <button class="flex items-center rounded-full text-gray-400 hover:text-gray-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 dark:text-gray-400 dark:hover:text-gray-300 dark:focus-visible:outline-indigo-500">
            <span class="sr-only">{{ 'menu.open_options'|trans }}</span>
            <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="size-5">
                <path d="M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z" />
            </svg>
        </button>

        <el-menu anchor="bottom end" popover class="w-56 origin-top-right rounded-md bg-white shadow-lg outline-1 outline-black/5 transition transition-discrete [--anchor-gap:--spacing(2)] data-closed:scale-95 data-closed:transform data-closed:opacity-0 data-enter:duration-100 data-enter:ease-out data-leave:duration-75 data-leave:ease-in dark:bg-gray-800 dark:shadow-none dark:-outline-offset-1 dark:outline-white/10">
            <div class="py-1">
                <a href="{{ path('app_conversation_edit', {id: conversation.id}) }}" class="block px-4 py-2 text-sm text-gray-700 focus:bg-gray-100 focus:text-gray-900 focus:outline-hidden dark:text-gray-300 dark:focus:bg-white/5 dark:focus:text-white">{{ 'action.edit'|trans }}</a>
                <a href="{{ path('app_conversation_delete', {id: conversation.id}) }}" class="block px-4 py-2 text-sm text-gray-700 focus:bg-gray-100 focus:text-gray-900 focus:outline-hidden dark:text-gray-300 dark:focus:bg-white/5 dark:focus:text-white">{{ 'action.delete'|trans }}</a>
            </div>
        </el-menu>
    </el-dropdown>
{% endblock %}

{% block content %}
    <twig:Conversation:Feed :conversation="conversation"/>
{% endblock %}
